# ============================================
# POLYMARKET COPY BOT v2.3 — CONFIGURATION
# ============================================
# Copy to .env:  cp .env.example .env
# Then fill in your values.
# NEVER commit .env to git!
#
# FIRST RUN:
#   1. Set PRIVATE_KEY below
#   2. Run: node src/setup-keys.js
#   3. Paste the API credentials it gives you
#   4. Add your trader addresses
#   5. Set DRY_RUN=false when ready
#   6. Start: pm2 start ecosystem.config.js
#
# VALIDATE: node src/validate-config.js

# --- Wallet ---
# Export private key from Rabby/MetaMask (MUST start with 0x)
PRIVATE_KEY=your_private_key_here
WALLET_ADDRESS=0xYourBotWalletAddress

# --- Polymarket API ---
# Generated by: node src/setup-keys.js
POLYMARKET_API_KEY=your_api_key_here
POLYMARKET_API_SECRET=your_api_secret_here
POLYMARKET_API_PASSPHRASE=your_passphrase_here
POLYMARKET_CLOB_URL=https://clob.polymarket.com

# --- Traders to Copy ---
# Find wallet addresses on polymarket.com trader profiles
# Comma-separated, no spaces
GRINDER_TRADERS=0xGrinderAddress1
EVENT_TRADERS=0xEventTrader1,0xEventTrader2

# --- Position Sizing (as fraction of leader's trade) ---
GRINDER_MULTIPLIER=0.15
EVENT_MULTIPLIER=0.25

# --- Copy Strategy (NEW in v2.2) ---
# PERCENTAGE = copy a % of leader's trade size (default)
# FIXED = use a fixed dollar amount per trade
# ADAPTIVE = auto-scale % based on trade size (small trades → higher %, large → lower %)
COPY_STRATEGY=PERCENTAGE
COPY_SIZE=15

# Max/min order sizes
MAX_ORDER_SIZE_USD=10
MIN_ORDER_SIZE_USD=1

# Optional: cap total position size per market
# MAX_POSITION_SIZE_USD=50

# Optional: cap total daily volume
# MAX_DAILY_VOLUME_USD=200

# Adaptive strategy params (only used if COPY_STRATEGY=ADAPTIVE)
# ADAPTIVE_MIN_PERCENT=5
# ADAPTIVE_MAX_PERCENT=25
# ADAPTIVE_THRESHOLD_USD=200

# Optional: tiered multipliers based on leader's trade size
# Format: "range:multiplier,range:multiplier"
# Example: scale up small trades, scale down large ones
# TIERED_MULTIPLIERS=1-10:2.0,10-100:1.0,100-500:0.2,500+:0.1

# --- Trade Aggregation (NEW in v2.2) ---
# Buffer small trades and combine them before executing
TRADE_AGGREGATION=false
TRADE_AGGREGATION_WINDOW_MS=30000
TRADE_AGGREGATION_MIN_USD=2

# --- Caps (USD) ---
# AUTO-SIZED: Leave these commented to auto-calculate from your USDC.e balance.
# The bot reads your on-chain balance at startup and scales limits proportionally:
#   MAX_TOTAL_EXPOSURE = 100% of balance
#   MAX_PER_TRADE      = 20% of balance
#   MAX_GRINDER_TRADE   = 15% of balance
#   MAX_EVENT_TRADE     = 20% of balance
# Set explicitly to override auto-sizing.
#MAX_PER_TRADE=8
#MAX_GRINDER_TRADE=4
#MAX_EVENT_TRADE=8
#MAX_TOTAL_EXPOSURE=90
MAX_OPEN_POSITIONS=8

# --- Risk Management ---
# AUTO-SIZED: Leave these commented to auto-calculate from your USDC.e balance:
#   DAILY_LOSS_LIMIT = 15% of balance
#   EQUITY_STOP_LOSS = 60% of balance (stops bot at 40% drawdown)
# Set explicitly to override.
#DAILY_LOSS_LIMIT=15
#EQUITY_STOP_LOSS=70
SLIPPAGE_TOLERANCE=2
MIN_TRADE_SIZE=2
MIN_PRICE=0.08
MAX_PRICE=0.97

# --- Bot Settings ---
# IMPORTANT: Starts in simulation mode. Set to false ONLY when ready for live trading.
DRY_RUN=true
POLL_INTERVAL_MS=10000
LOG_LEVEL=info

# --- Dashboard ---
DASHBOARD_PORT=3000
DASHBOARD_PASSWORD=changeme123
