# ============================================
# POLYMARKET COPY BOT v2.3 — CONFIGURATION
# ============================================
# Copy to .env:  cp .env.example .env
# Then fill in your values.
# NEVER commit .env to git!
#
# FIRST RUN:
#   1. Set PRIVATE_KEY below
#   2. Run: node src/setup-keys.js
#   3. Paste the API credentials it gives you
#   4. Add your trader addresses
#   5. Set DRY_RUN=false when ready
#   6. Start: pm2 start ecosystem.config.js
#
# VALIDATE: node src/validate-config.js

# --- Wallet ---
# Export private key from Rabby/MetaMask (MUST start with 0x)
PRIVATE_KEY=your_private_key_here
WALLET_ADDRESS=0xYourBotWalletAddress

# --- Polymarket API ---
# Generated by: node src/setup-keys.js
POLYMARKET_API_KEY=your_api_key_here
POLYMARKET_API_SECRET=your_api_secret_here
POLYMARKET_API_PASSPHRASE=your_passphrase_here
POLYMARKET_CLOB_URL=https://clob.polymarket.com

# --- Traders to Copy ---
# Find wallet addresses on polymarket.com trader profiles
# Comma-separated, no spaces
#
# 6-TRADER ROSTER:
#   Grinder = frequent diversified traders (DrPufferfish, WOMENBESHOPPING)
#   Event   = high-conviction sports/politics whales (kch123, gmpm, beachboy4, chungguskhan)
#   EXCLUDED: 0x8dxd (0x63ce...) — latency arb bot on 15-min crypto markets,
#   not copyable with 10s polling; Polymarket dynamic taker fees kill this strategy
GRINDER_TRADERS=0xdb27bf2ac5d428a9c63dbc914611036855a6c56e,0x13414a77a4be48988851c73dfd824d0168e70853
EVENT_TRADERS=0x6a72f61820b26b1fe4d956e17b6dc2a1ea3033ee,0x14964aefa2cd7caff7878b3820a690a03c5aa429,0xc2e7800b5af46e6093872b177b7a5e7f0563be51,0x7744bfd749a70020d16a1fcbac1d064761c9999e

# --- Position Sizing (as fraction of leader's trade) ---
# NOTE: With whale traders ($100K+ per trade), the multiplier barely matters
# because the per-trade CAP always kicks in first. These are just fallbacks.
GRINDER_MULTIPLIER=0.01
EVENT_MULTIPLIER=0.01

# --- Copy Strategy (NEW in v2.2) ---
# PERCENTAGE = copy a % of leader's trade size (default)
# FIXED = use a fixed dollar amount per trade
# ADAPTIVE = auto-scale % based on trade size (small trades → higher %, large → lower %)
COPY_STRATEGY=PERCENTAGE
COPY_SIZE=15

# Max/min order sizes
MAX_ORDER_SIZE_USD=10
MIN_ORDER_SIZE_USD=1

# Optional: cap total position size per market
# MAX_POSITION_SIZE_USD=50

# Optional: cap total daily volume
# MAX_DAILY_VOLUME_USD=200

# Adaptive strategy params (only used if COPY_STRATEGY=ADAPTIVE)
# ADAPTIVE_MIN_PERCENT=5
# ADAPTIVE_MAX_PERCENT=25
# ADAPTIVE_THRESHOLD_USD=200

# Optional: tiered multipliers based on leader's trade size
# Format: "range:multiplier,range:multiplier"
# Example: scale up small trades, scale down large ones
# TIERED_MULTIPLIERS=1-10:2.0,10-100:1.0,100-500:0.2,500+:0.1

# --- Trade Aggregation (NEW in v2.2) ---
# Buffer small trades and combine them before executing
TRADE_AGGREGATION=false
TRADE_AGGREGATION_WINDOW_MS=30000
TRADE_AGGREGATION_MIN_USD=2

# --- Caps (USD) ---
# AUTO-SIZED: Leave these commented to auto-calculate from your USDC.e balance.
# The bot reads your on-chain balance at startup and scales limits proportionally:
#   MAX_TOTAL_EXPOSURE = 100% of balance
#   MAX_PER_TRADE      = 20% of balance
#   MAX_GRINDER_TRADE   = 15% of balance
#   MAX_EVENT_TRADE     = 20% of balance
# Set explicitly to override auto-sizing.
#MAX_PER_TRADE=8
#MAX_GRINDER_TRADE=4
#MAX_EVENT_TRADE=8
#MAX_TOTAL_EXPOSURE=90
MAX_OPEN_POSITIONS=10

# --- Risk Management ---
# AUTO-SIZED: Leave these commented to auto-calculate from your USDC.e balance:
#   DAILY_LOSS_LIMIT = 15% of balance  ← override to 25% for small accounts
#   EQUITY_STOP_LOSS = 60% of balance (stops bot at 40% drawdown)
# Set explicitly to override.
DAILY_LOSS_LIMIT=4
#EQUITY_STOP_LOSS=70
SLIPPAGE_TOLERANCE=3
MIN_TRADE_SIZE=0.50
MIN_PRICE=0.05
MAX_PRICE=0.97

# --- Bot Settings ---
# IMPORTANT: Starts in simulation mode. Set to false ONLY when ready for live trading.
DRY_RUN=true
POLL_INTERVAL_MS=10000
LOG_LEVEL=info

# --- Dashboard ---
DASHBOARD_PORT=3000
DASHBOARD_PASSWORD=changeme123
